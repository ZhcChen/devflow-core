# SQL 开发规范（通用）

适用于包含 SQL 迁移/脚本管理的项目。

## 命名规范

```
YYYYMMDD_HHMMSS_描述.sql
```

## 强制规则

1. **禁止删除或修改已提交脚本**：迁移系统通常只识别文件名，修改内容不会被重新执行，易导致环境不一致。
2. **修复用新脚本**：错误修复通过新增脚本完成（DROP/ADD/MODIFY/RENAME）。
3. **禁止跨脚本 AFTER 依赖**：`AFTER column_name` 只能引用同一脚本内新增的字段。
4. **有依赖就合并**：同一功能或相互依赖字段放在同一脚本。

## 顺序与依赖

- 迁移脚本按文件名排序执行，时间戳保证执行顺序。
- 若项目区分“schema 脚本”和“增量迁移”，禁止 schema 脚本依赖增量脚本创建的表。

## 提交前检查

- 确认脚本命名与排序符合预期。
- 确认无跨脚本 AFTER 依赖。
